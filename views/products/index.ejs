<% layout('layouts/boilerplate')%>

<main role="main">
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="7"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="m-auto d-block w-100" src="images/slide01.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide02.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide03.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide04.jpg" alt="Fourth slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide05.jpg" alt="Fifth slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide06.jpg" alt="Sixth slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide07.jpg" alt="Seventh slide">
        </div>
        <div class="carousel-item">
          <img class="m-auto d-block w-100" src="images/slide08.jpg" alt="Eighth slide">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true" style="width: 25px; height:15px; padding: 15px;"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true" style="width: 25px; height:15px; padding: 15px;"></span>
        <span class="sr-only">Next</span>
    </a>
  </div>
  
    <div class="album py-5 bg-light">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div class="card mb-1 box-shadow">
              <img class="card-img-top" src="https://images.unsplash.com/photo-1496181133206-80ce9b88a853?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">MacBook Pro</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618e899fc196d479edab3600/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 1,15,500</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card mb-1 box-shadow">
              <img class="card-img-top" src="https://images.unsplash.com/photo-1595245150809-ef9436aaded6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Microsoft Surface Pro</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618e9467d4667f23edaca725/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 90,990</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card mb-1 box-shadow">
              <img class="card-img-top" src="https://m.media-amazon.com/images/I/61Nhi7ovjkL._SL1500_.jpg" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Galaxy Watch4</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618e98361892ae29446c5b1d/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 26,999</small>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <br>
            <div class="card mb-4 box-shadow">
              <img class="card-img-top" src="https://images.unsplash.com/photo-1546027658-7aa750153465?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Xperia Pro-I</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618cee3fa2f994d7eb422d84/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 1,35,000</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <br>
            <div class="card mb-4 box-shadow">
              <img class="card-img-top" src="https://www.apple.com/newsroom/images/product/watch/standard/Apple_watch-series7-availability_hero_10052021_big.jpg.large.jpg" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Apple Watch Series 7</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618e9382d4667f23edaca715/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 50,900</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <br>
            <div class="card mb-4 box-shadow">
              <img class="card-img-top" style="padding: 20px;" src="https://m.media-amazon.com/images/I/81aaaWX8UcL._AC_SL1500_.jpg" alt="Card image cap">
              <div class="card-body">
                <p class="card-text">Asus ROG Strix G531</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Buy</button>
                    <form action="/user/618e99b61892ae29446c5b4f/cart" method="POST">
                      <button type="submit" class="btn btn-sm btn-outline-secondary">Add to Cart</button>
                    </form>
                  </div>
                  <small class="text-muted">Rs. 89,900</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> 


    <div class="container mb-5">
      <div class="d-flex justify-content-center row">
          <div class="col-md-12">
            <% let count = 4; %>
            <% products.slice().reverse().forEach(function(product) { %>
              <% count--; %>
              <% if(count >= 0) { %>
              <div class="row p-3 bg-white border rounded mb-3">
                <div class="col-md-4 mt-1"><img style="width: 300px; height: auto;" class="img-fluid img-responsive rounded product-image" src="<%-product.image%>"></div>
                <div class="col-md-5 mt-1">
                    <h4><%-product.name%></h4>
                    <div class="d-flex flex-row">
                        <div class="ratings mr-2"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></div><span><%-product.brand%> | Model: <%-product.model%></span>
                    </div>
                    <div class="mt-1 mb-1 spec-1"><span class="dot"></span><span><%-product.category%></span><span class="dot"></span><span>Rating: <%-product.rating%><br></span></div>
                    <div class="mt-1 mb-1 spec-1"><span class="dot"></span><span><%-product.units%> units available</span><span class="dot"></span></div>
                    <textarea readonly style="width: 100%; height: 35%; border: none; resize: none; outline: none;" name=""><%-product.description%></textarea>
                </div>
                <div class="align-items-center align-content-center col-md-3 border-left mt-1">
                    <div class="d-flex flex-row align-items-center">
                        <h4 class="mr-1">₹<%-product.price%></h4><span class="strike-text">$<%-product.price + (product.price * 0.2)%></span>
                    </div>
                    <h6 class="text-success">Free shipping</h6>
                    <div class="d-flex flex-column mt-4"> 
                      <a class="btn btn-primary btn-sm" href="/products/<%-product._id%>">Details</a> 
                      <form class="d-flex flex-column" action="/user/<%-product._id%>/cart" method="POST">
                        <button class="btn btn-outline-primary btn-sm mt-2 addButton" type="submit">Add to Cart</button>
                      </form>
                      <% if(currentUser) { %>
                        <a class="btn btn-outline-info btn-sm mt-2 msg" style="display: none" href="/user/<%-currentUser._id%>/cart">Item Added to Cart</a>  
                      <% } %>
                    </div>
                </div>
              </div>
              <% } %>
            <% }); %>
          </div>
      </div>
    </div>
  </main>






<!-- Single Product in loop
<div class="row p-2 bg-white border rounded">
  <div class="col-md-3 mt-1"><img class="img-fluid img-responsive rounded product-image" src="https://i.imgur.com/QpjAiHq.jpg"></div>
  <div class="col-md-6 mt-1">
      <h5>Quant olap shirts</h5>
      <div class="d-flex flex-row">
          <div class="ratings mr-2"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></div><span>310</span>
      </div>
      <div class="mt-1 mb-1 spec-1"><span>100% cotton</span><span class="dot"></span><span>Light weight</span><span class="dot"></span><span>Best finish<br></span></div>
      <div class="mt-1 mb-1 spec-1"><span>Unique design</span><span class="dot"></span><span>For men</span><span class="dot"></span><span>Casual<br></span></div>
      <p class="text-justify text-truncate para mb-0">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.<br><br></p>
  </div>
  <div class="align-items-center align-content-center col-md-3 border-left mt-1">
      <div class="d-flex flex-row align-items-center">
          <h4 class="mr-1">$13.99</h4><span class="strike-text">$20.99</span>
      </div>
      <h6 class="text-success">Free shipping</h6>
      <div class="d-flex flex-column mt-4"><button class="btn btn-primary btn-sm" type="button">Details</button><button class="btn btn-outline-primary btn-sm mt-2" type="button">Add to wishlist</button></div>
  </div>
</div> -->